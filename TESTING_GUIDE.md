# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é AI Telegram Bot

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-11-16

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
2. [–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
3. [–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π](#–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–º–æ–¥–µ–ª–µ–π)
4. [–û—Ç—á–µ—Ç—ã](#–æ—Ç—á–µ—Ç—ã)
5. [–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#—á–∞—Å—Ç—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã API –∫–ª—é—á–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
grep "API_KEY" .env | grep -v "^#"
```

### 2. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```sql
-- –ù–∞–π–¥–∏—Ç–µ –≤–∞—à user_id
SELECT id, telegram_id, username FROM users ORDER BY created_at DESC LIMIT 1;

-- –î–æ–±–∞–≤—å—Ç–µ 9,999,999 —Ç–æ–∫–µ–Ω–æ–≤ (–∑–∞–º–µ–Ω–∏—Ç–µ 1 –Ω–∞ –≤–∞—à user_id)
INSERT INTO subscriptions (
    user_id, subscription_type, tokens_amount, tokens_used,
    price, is_active, started_at, expires_at
) VALUES (
    1,  -- –í–∞—à user_id
    'unlimited_test', 9999999, 0, 0.00, true,
    NOW(), NOW() + INTERVAL '365 days'
);
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç

```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç
python scripts/comprehensive_test.py
```

### 4. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—Ç—á–µ—Ç

–û—Ç—á–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `test_reports/`:

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–π Markdown –æ—Ç—á–µ—Ç
ls -t test_reports/*.md | head -1 | xargs cat

# –ü–æ—Å–ª–µ–¥–Ω–∏–π JSON –æ—Ç—á–µ—Ç
ls -t test_reports/*.json | head -1 | xargs cat
```

---

## üî¨ –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–∫—Ä–∏–ø—Ç: `scripts/comprehensive_test.py`

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç **–≤—Å–µ** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–æ—Ç–∞.

#### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:

1. **API –∫–ª—é—á–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π** - –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å MODEL_MAPPINGS
4. **AI –º–æ–¥–µ–ª–∏** - —Ä–∞–±–æ—Ç–∞ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
5. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
python scripts/comprehensive_test.py

# –¢–æ–ª—å–∫–æ AI –º–æ–¥–µ–ª–∏
python scripts/comprehensive_test.py --models-only

# –¢–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∏
python scripts/comprehensive_test.py --buttons-only
```

#### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
======================================================================
AI TELEGRAM BOT - COMPREHENSIVE TESTING
======================================================================

Testing API Keys Configuration...
‚úì OpenAI API key configured
‚úì Anthropic API key configured
‚ö† Google AI API key not configured
‚ö† DeepSeek API key not configured

Testing Database Connection...
‚úì Database connection

Testing Model Configuration...
‚úì Model 324 configuration valid
‚úì Model 325 configuration valid
...

Testing AI Models...
‚úì OpenAI gpt-4o-mini
  {'time': '2.34s', 'tokens': 127}
‚úì OpenAI gpt-4o
  {'time': '3.12s', 'tokens': 145}
‚äó Google gemini-2.0-flash-exp (skipped: API key not configured)
...

======================================================================
TEST SUMMARY
======================================================================
Total tests:    45
Passed:         32
Failed:         3
Skipped:        10
Duration:       25.67s
======================================================================
```

---

## üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

### –°–∫—Ä–∏–ø—Ç: `scripts/interactive_model_test.py`

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π.

#### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:

```bash
python scripts/interactive_model_test.py
```

#### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –º–æ–¥–µ–ª–∏:

```bash
# –¢–µ—Å—Ç —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º
python scripts/interactive_model_test.py --model 324

# –¢–µ—Å—Ç —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º
python scripts/interactive_model_test.py --model 325 --prompt "–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é —Ñ–∏–∑–∏–∫—É"
```

#### –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π:

```bash
python scripts/interactive_model_test.py --list
```

---

## üìä –û—Ç—á–µ—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è:

1. **JSON –æ—Ç—á–µ—Ç** - `test_reports/test_results_YYYYMMDD_HHMMSS.json`
2. **Markdown –æ—Ç—á–µ—Ç** - `test_reports/test_results_YYYYMMDD_HHMMSS.md`

---

## üîç –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. API –∫–ª—é—á–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```env
OPENAI_API_KEY=sk-proj-your-real-key-here
ANTHROPIC_API_KEY=sk-ant-your-real-key-here
GOOGLE_AI_API_KEY=AIza-your-real-key-here
DEEPSEEK_API_KEY=sk-your-real-key-here
```

### 2. Database connection failed

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PostgreSQL
sudo systemctl status postgresql

# –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
sudo systemctl start postgresql
```

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –°–ï–ô–ß–ê–°:

- ‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é
- ‚úÖ –°–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ OpenAI GPT –º–æ–¥–µ–ª–∏
- ‚úÖ Anthropic Claude –º–æ–¥–µ–ª–∏
- ‚úÖ Google Gemini –º–æ–¥–µ–ª–∏
- ‚úÖ DeepSeek –º–æ–¥–µ–ª–∏
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –∏—Å—Ç–æ—Ä–∏–∏/–∑–∞—Ç—Ä–∞—Ç
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã /end –∏ /clear
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **AUDIT_REPORT.md** - –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –∫–æ–¥–∞ —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏
- **MODELS_ANALYSIS.md** - –ê–Ω–∞–ª–∏–∑ –º–æ–¥–µ–ª–µ–π –ø–æ —Ü–µ–Ω–µ/–∫–∞—á–µ—Å—Ç–≤—É
- **README.md** - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

---

**–£—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üéØ**
